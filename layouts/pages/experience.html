{{ define "main" }}
<div class="layout-narrow" style="max-width: 750px; margin: 0 auto; padding: 4rem 1rem;">

  <div style="margin-bottom: 4rem; border-left: 4px solid var(--color-accent); padding-left: 1.5rem;">
    <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem;">Experience Summaries</h1>
    <p style="font-family: var(--font-mono); color: var(--text-secondary); line-height: 1.6;">
      >> A chronological account of each of my roles bridging strategy and execution.
    </p>
  </div>

  <div class="narrative-timeline">
    {{ range .Site.Data.experience }}
    <section class="narrative-entry" style="margin-bottom: 5rem; position: relative;">
      
      <div class="narrative-meta" style="display: flex; gap: 1rem; align-items: center; margin-bottom: 0.75rem;">
        <span style="font-family: var(--font-mono); font-size: 0.85rem; color: var(--color-accent); font-weight: bold;">
            {{ time.Format "Jan 2006" .startDate }} &ndash; {{ if .endDate }}{{ time.Format "Jan 2006" .endDate }}{{ else }}Present{{ end }}
        </span>
        
        {{ if .type }}
        <span class="badge badge-outline">
            {{ .type | upper }}
        </span>
        {{ end }}
      </div>

      <h2 style="font-size: 1.8rem; margin: 0 0 0.25rem 0;">{{ .role }}</h2>
      <h3 style="font-size: 1.1rem; font-family: var(--font-mono); color: var(--text-secondary); margin: 0 0 1.5rem 0; font-weight: normal;">
        {{ .company }} <span style="opacity: 0.5;">| {{ .location }}</span>
      </h3>

      <div class="narrative-content" style="font-size: 1.1rem; line-height: 1.8; color: var(--text-primary); opacity: 0.95;">
        {{ .summary | markdownify }}
      </div>

      <div class="timeline-connector"></div>

    </section>
    {{ end }}
  </div>

  <div class="card card-interactive" style="text-align: center; margin-top: 2rem;">
    <h3 style="margin-top: 0;">Need the technical details?</h3>
    <p>View the interactive resume with artifacts, KPIs, and specific tech stacks.</p>
    <a href="/pages/resume" class="btn">View Interactive Resume -></a>
  </div>

</div>

<style>
/* Scoped Styles for Experience Page */
.badge-outline {
    font-size: 0.7rem;
    padding: 2px 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    color: var(--text-secondary);
    letter-spacing: 0.05em;
}

.timeline-connector {
    position: absolute;
    left: -20px;
    top: 3.5rem;
    bottom: -3rem;
    width: 2px;
    background: var(--border-color);
    opacity: 0.3;
}

@media (max-width: 768px) {
    .timeline-connector { display: none; }
}
</style>
{{ end }}
