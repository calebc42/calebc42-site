{{ define "main" }}

<div style="width: 100%; max-width: 1100px; margin: 0 auto; padding: 4rem 0;">

  <div style="margin-bottom: 5rem; border-left: 4px solid var(--color-accent); padding-left: 2rem;">
    <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem; color: #EDEBE8;">Professional Timeline</h1>
    <p style="font-family: var(--font-mono); color: var(--text-secondary); line-height: 1.6; max-width: 600px;">
      >> A chronological history of my experience bridging the gap between Sales Strategy and Operational Execution.
    </p>
  </div>

  <div class="narrative-timeline">
    {{ range .Pages.ByDate.Reverse }}
    <section class="narrative-entry" style="margin-bottom: 6rem; position: relative;">
      
      <div class="narrative-meta" style="display: flex; gap: 1rem; align-items: center; margin-bottom: 1rem;">
        <span style="font-family: var(--font-mono); font-size: 0.9rem; color: var(--color-accent); font-weight: bold; background: rgba(var(--color-accent-rgb), 0.1); padding: 4px 8px; border-radius: 4px;">
            {{ .Date.Format "Jan 2006" }} &ndash; {{ if .Params.end_date }}{{ .Params.end_date }}{{ else }}Present{{ end }}
        </span>
        <span class="badge badge-outline" style="font-size: 0.8rem; letter-spacing: 0.05em; border: 1px solid #444; padding: 2px 8px; border-radius: 4px; color: #888;">
            {{ .Params.type | upper }}
        </span>
      </div>

      <h2 style="font-size: 2rem; margin: 0 0 0.5rem 0; color: #EDEBE8;">{{ .Title }}</h2>
      <h3 style="font-size: 1.2rem; font-family: var(--font-mono); color: var(--text-secondary); margin: 0 0 2rem 0; font-weight: normal;">
        <span style="color: #EDEBE8; font-weight: bold;">{{ .Params.company }}</span> 
        <span style="opacity: 0.5;"> | {{ .Params.location }}</span>
      </h3>

      <div class="entry-grid">
        
        <div class="narrative-column" style="display: flex; flex-direction: column; justify-content: space-between;">
          <div>
            <h4 style="font-family: var(--font-mono); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); margin-bottom: 1rem;">
                // SUMMARY //
            </h4>
            <div class="narrative-content" style="font-size: 1.05rem; line-height: 1.8; color: var(--text-primary); opacity: 0.9;">
              {{ .Summary }}
            </div>
          </div>
          
          <div style="margin-top: 2rem;">
             <a href="{{ .Permalink }}" class="btn" style="font-size: 0.8rem; padding: 0.5rem 1.5rem;">
                 READ MORE... ->
             </a>
          </div>
        </div>

        <div class="impact-column">
           <h4 style="font-family: var(--font-mono); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); margin-bottom: 1rem;">
               // KEY RESULTS //
           </h4>
           
           <div style="margin-bottom: 1.5rem; font-size: 0.95rem; line-height: 1.6; color: var(--text-primary); border-left: 2px solid var(--color-accent); padding-left: 1rem;">
               {{ .Params.outcomes | markdownify }}
           </div>

           {{ if .Params.prototype_link }}
           <div style="margin-top: 2rem;">
             <div style="font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-secondary); margin-bottom: 0.5rem; opacity: 0.8;">
                 AVAILABLE ARTIFACTS:
             </div>
             <a href="{{ .Params.prototype_link }}" target="_blank" class="tag-evidence">
                <span class="material-symbols-outlined" style="font-size: 14px; margin-right: 6px;">topic</span>
                VIEW ARTIFACT
             </a>
           </div>
           {{ end }}
           
        </div>

      </div>

      <div class="timeline-connector"></div>

    </section>
    {{ end }}
  </div>

  <div class="card card-interactive" style="text-align: center; margin-top: 4rem; padding: 3rem; background: var(--bg-secondary);">
    <h3 style="margin-top: 0;">Want the raw data?</h3>
    <p>Switch to the Resume view for a dense, scannable list of skills and tools.</p>
    <a href="/pages/resume" class="btn">View Technical Resume -></a>
  </div>

</div>

<style>
/* CSS Grid Layout */
.entry-grid {
    display: grid;
    grid-template-columns: 1.2fr 0.8fr; /* 60/40 Split favoring narrative */
    gap: 4rem;
}

.tag-evidence {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--color-accent);
    border: 1px solid var(--color-accent);
    padding: 6px 12px;
    border-radius: 4px;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    transition: all 0.2s;
    background: rgba(var(--color-accent-rgb), 0.05);
}

.tag-evidence:hover {
    background: var(--color-accent);
    color: var(--bg-primary);
}

/* Vertical line styling */
.timeline-connector {
    position: absolute;
    left: -30px;
    top: 5rem;
    bottom: -3rem;
    width: 2px;
    background: var(--border-color);
    opacity: 0.3;
}

/* Mobile Responsiveness */
@media (max-width: 900px) {
    .entry-grid { 
        grid-template-columns: 1fr; /* Stack on mobile */
        gap: 2rem; 
    }
    .timeline-connector { display: none; }
    
    .impact-column {
        margin-top: 1rem;
        padding-top: 2rem;
        border-top: 1px dashed var(--border-color);
    }
}
</style>
{{ end }}
