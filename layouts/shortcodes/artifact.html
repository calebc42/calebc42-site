{{/* Usage: {{< artifact type="pdf" src="/files/dashboard.pdf" title="GTM Dashboard V1" >}} */}}
<div class="card artifact-card" style="border-left: 4px solid var(--color-accent); margin: 2rem 0;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h4 style="margin: 0; font-family: var(--font-mono); text-transform: uppercase; font-size: 0.9rem; letter-spacing: 0.05em;">
            <span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.2rem; margin-right: 0.5rem;">
                {{ if eq (.Get "type") "pdf" }}picture_as_pdf
                {{ else if eq (.Get "type") "sheet" }}table_chart
                {{ else if eq (.Get "type") "code" }}code
                {{ else }}description{{ end }}
            </span>
            {{ .Get "title" }}
        </h4>
        
        {{/* Only show button if a link is provided */}}
        {{ if .Get "src" }}
        <a href="{{ .Get "src" }}" target="_blank" class="btn" style="font-size: 0.7rem; padding: 0.2rem 0.8rem;">
            OPEN ARTIFACT â†—
        </a>
        {{ end }}
    </div>

    {{/* Render Logic */}}
    {{ if eq (.Get "type") "image" }}
        <img src="{{ .Get "src" }}" alt="{{ .Get "title" }}" style="width: 100%; border: 1px solid var(--border-color); border-radius: 2px;">
    
    {{ else if eq (.Get "type") "code" }}
        {{/* If it's code, we assume the content is inside the shortcode block */}}
        <div class="highlight" style="margin: 0;">
            {{ .Inner }}
        </div>

    {{ else }}
        <div style="background: var(--bg-primary); padding: 2rem; text-align: center; border: 1px dashed var(--border-color);">
            <p style="font-family: var(--font-mono); font-size: 0.8rem; opacity: 0.7;">
                [PREVIEW NOT AVAILABLE FOR {{ .Get "type" | upper }}]
            </p>
            <p style="margin-bottom: 0;">Click "Open Artifact" to view source file.</p>
        </div>
    {{ end }}
</div>
